import{b as _,c as v,a as t,P as a,G as x,H as l,ag as n,o as d,M as f,u as V,V as C,L as B,I as R,Q as $,i as A}from"./@vue-JlwsckWB.js";import{u as G,a as T}from"./vue-router-hI8gbx6m.js";/* empty css                                                                  */import{_ as q,a as H}from"./index-D9sq5B9z.js";import"./pinia-91x-qzso.js";import"./vue-demi-Dq6ymT-8.js";import"./element-plus-BCXmXNOW.js";import"./lodash-es-DpRhkxuT.js";import"./@vueuse-DS8A98-V.js";import"./@element-plus-Dbr4-WMN.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Cvt7qOjS.js";import"./artplayer-DYEsUqgO.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";import"./axios-upsvKRUO.js";import"./vue-cookies-DmNBPvI0.js";import"./@fingerprintjs-BlNouByb.js";import"./tslib-BLN2B0TR.js";import"./vue-cropper-BAfMpYow.js";import"./mitt-DJ65BbbF.js";import"./moment-C5S46NFB.js";const M={class:"video-panel"},b={key:0},j={class:"data-item"},E=["onClick"],P=["onClick"],Q={class:"collection-info"},U={class:"collection-time"},z={__name:"Collection",setup(F){const{proxy:s}=A(),p=G(),k=T(),w=H(),I=_(w.userInfo.userId==p.params.userId),r=_({}),c=async()=>{let e={pageNo:r.value.pageNo};e.userId=p.params.userId;let o=await s.Request({url:s.Api.uHomeLoadCollection,params:e});o&&(r.value=o.data)};c();const g=e=>{s.Confirm({message:"确定要取消收藏吗？",okfun:async()=>{await s.Request({url:s.Api.userAction,params:{videoId:e.videoId,actionType:3}})&&c()}})},m=e=>{e.videoName&&k.push(`/video/${e.videoId}`)};return(e,o)=>{const N=n("NoData"),h=n("Cover"),y=n("el-dropdown-item"),D=n("el-dropdown-menu"),L=n("el-dropdown"),S=n("DataGridList");return d(),v("div",M,[o[2]||(o[2]=t("div",{class:"video-title-panel"},[t("div",{class:"video-title"},"我的收藏")],-1)),r.value.list&&r.value.list.length==0?(d(),v("div",b,[a(N,{msg:"空间主人还没有收藏视频哦~~"})])):(d(),x(S,{key:1,dataSource:r.value,onLoadData:c},{default:l(({data:i})=>[t("div",j,[t("div",{class:"cover",onClick:u=>m(i)},[a(h,{source:i.videoCover},null,8,["source"])],8,E),t("div",{class:"video-name",onClick:u=>m(i)},f(i.videoName||"已失效视频"),9,P),t("div",Q,[t("div",U," 收藏于： "+f(V(s).Utils.formatDate(i.actionTime)),1),a(L,null,{dropdown:l(()=>[a(D,null,{default:l(()=>[a(y,{onClick:C(u=>g(i),["stop"])},{default:l(()=>o[1]||(o[1]=[B("取消收藏")])),_:2},1032,["onClick"])]),_:2},1024)]),default:l(()=>[R(t("div",{class:"iconfont icon-more",onClick:o[0]||(o[0]=C(()=>{},["stop"]))},null,512),[[$,I.value]])]),_:2},1024)])])]),_:1},8,["dataSource"]))])}}},wo=q(z,[["__scopeId","data-v-70a09854"]]);export{wo as default};
