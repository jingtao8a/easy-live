import{b as d,c as g,P as o,H as u,V as b,ag as i,o as _,L as s,i as y}from"./@vue-o39Kj8Hc.js";import{u as S}from"./vue-router-B5Ds_jdF.js";import{_ as c}from"./index-Di0cqdVb.js";import"./pinia-DRS-luHF.js";import"./vue-demi-Dq6ymT-8.js";import"./element-plus-DqxZfY1O.js";import"./lodash-es-DpRhkxuT.js";import"./@vueuse-2MWXcMyd.js";import"./@element-plus-B683oq9Q.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Cvt7qOjS.js";import"./artplayer-DYEsUqgO.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";import"./vue-cookies-DmNBPvI0.js";import"./vue-cropper-B5nAOkqF.js";import"./mitt-DJ65BbbF.js";import"./hls.js-DnSDjNdB.js";import"./artplayer-plugin-danmuku-CU64Le-w.js";import"./axios-upsvKRUO.js";import"./moment-C5S46NFB.js";const x={class:"setting-form"},q={__name:"Setting",setup(P){const{proxy:a}=y();S();const t=d({}),p=d(),v={title:[{required:!0,message:"请输入内容"}],videoCount:[{required:!0,message:"请输入视频数量"}],videoPCount:[{required:!0,message:"请输入稿件最大分P数量"}],commentCount:[{required:!0,message:"请输入评论数量"}],danmuCount:[{required:!0,message:"请输入弹幕数量"}]};(async()=>{let m=await a.Request({url:a.Api.getSetting});m&&(t.value=m.data)})();const f=()=>{p.value.validate(async m=>{if(!m)return;let e={};Object.assign(e,t.value),await a.Request({url:a.Api.saveSetting,params:e})&&a.Message.success("保存成功")})};return(m,e)=>{const n=i("el-input"),r=i("el-form-item"),C=i("el-button"),V=i("el-form");return _(),g("div",x,[o(V,{model:t.value,rules:v,ref_key:"formDataRef",ref:p,"label-width":"160px",onSubmit:e[7]||(e[7]=b(()=>{},["prevent"]))},{default:u(()=>[o(r,{label:"注册送硬币数量",prop:"registerCoinCount"},{default:u(()=>[o(n,{placeholder:"请输入硬币数量",modelValue:t.value.registerCoinCount,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.registerCoinCount=l),type:"number",min:1},null,8,["modelValue"])]),_:1}),o(r,{label:"发布视频送硬币数量",prop:"postVideoCoinCount"},{default:u(()=>[o(n,{placeholder:"请输入发布视频送硬币数量",modelValue:t.value.postVideoCoinCount,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.postVideoCoinCount=l),type:"number",min:1},null,8,["modelValue"])]),_:1}),o(r,{label:"单个视频大小",prop:"videoSize"},{default:u(()=>[o(n,{placeholder:"单个视频大小",modelValue:t.value.videoSize,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.videoSize=l),type:"number",min:1},{suffix:u(()=>e[8]||(e[8]=[s(" MB ")])),_:1},8,["modelValue"])]),_:1}),o(r,{label:"稿件最大分P数量",prop:"videoPCount"},{default:u(()=>[o(n,{placeholder:"单个视频大小",modelValue:t.value.videoPCount,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.videoPCount=l),type:"number",min:1},null,8,["modelValue"])]),_:1}),o(r,{label:"每天发布视频数",prop:"videoCount"},{default:u(()=>[o(n,{placeholder:"每天发布视频数",modelValue:t.value.videoCount,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.videoCount=l),type:"number",min:1},null,8,["modelValue"])]),_:1}),o(r,{label:"每天允许评论数",prop:"commentCount"},{default:u(()=>[o(n,{placeholder:"每天允许发布评论数",modelValue:t.value.commentCount,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.commentCount=l),type:"number",min:1},null,8,["modelValue"])]),_:1}),o(r,{label:"每天允许弹幕数",prop:"danmuCount"},{default:u(()=>[o(n,{placeholder:"每天允许发布弹幕数",modelValue:t.value.danmuCount,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.danmuCount=l),type:"number",min:1},null,8,["modelValue"])]),_:1}),o(r,{label:"",prop:""},{default:u(()=>[o(C,{type:"primary",onClick:f},{default:u(()=>e[9]||(e[9]=[s("保存")])),_:1})]),_:1})]),_:1},8,["model"])])}}},Z=c(q,[["__scopeId","data-v-12931a80"]]);export{Z as default};
