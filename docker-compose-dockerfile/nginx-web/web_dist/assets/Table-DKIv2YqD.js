import{a as F,u as A}from"./vue-router-hI8gbx6m.js";import{_ as P}from"./index-D9sq5B9z.js";import{b as S,ag as u,o,c as s,P as z,H as x,O as _,a4 as I,G as c,i as T,K as w,B as $}from"./@vue-JlwsckWB.js";const j={class:"search-panel"},D={__name:"VideoSerchSelect",emits:["loadData"],setup(t,{emit:m}){const{proxy:h}=T();F();const p=A(),e=S({videoId:p.query.videoId}),g=S([]);(async()=>{let n=await h.Request({url:h.Api.ucLoadAllVideo});n&&(g.value=n.data)})();const d=m,k=n=>{d("loadData",n)};return(n,f)=>{const v=u("el-option"),C=u("el-select");return o(),s("div",j,[z(C,{clearable:"",placeholder:"选择视频搜索",modelValue:e.value.videoId,"onUpdate:modelValue":f[0]||(f[0]=i=>e.value.videoId=i),onChange:k},{default:x(()=>[(o(!0),s(_,null,I(g.value,i=>(o(),c(v,{value:i.videoId,label:i.videoName},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])])}}},K=P(D,[["__scopeId","data-v-aa881fc7"]]),L={key:0,class:"pagination"},O=193,U={__name:"Table",props:{dataSource:Object,showPagination:{type:Boolean,default:!0},options:{type:Object,default:{}},extHeight:{default:70},columns:Array,fetch:Function,initFetch:{type:Boolean,default:!0},selected:Function},emits:["rowSelected","rowClick"],setup(t,{expose:m,emit:h}){const p=h,e=t,g=S(e.options.tableHeight?e.options.tableHeight:window.innerHeight-O-e.extHeight);(()=>{e.initFetch&&e.fetch&&e.fetch()})();const d=S();m({setCurrentRow:(a,b)=>{let r=e.dataSource.list.find(y=>y[a]===b);d.value.setCurrentRow(r)},clearSelection:()=>{d.value.clearSelection()}});const f=a=>{p("rowClick",a)},v=a=>{p("rowSelected",a)},C=a=>{e.dataSource.pageSize=a,e.dataSource.pageNo=1,e.fetch()},i=a=>{e.dataSource.pageNo=a,e.fetch()},N=(a,b)=>{if(e.selected)return e.selected(a,b)};return(a,b)=>{const r=u("el-table-column"),y=u("el-table"),B=u("el-pagination");return o(),s("div",null,[z(y,{ref_key:"dataTable",ref:d,data:t.dataSource.list||[],height:g.value,stripe:t.options.stripe,border:t.options.border,"header-row-class-name":"table-header-row","highlight-current-row":"",onRowClick:f,onSelectionChange:v},{default:x(()=>[t.options.selectType&&t.options.selectType=="checkbox"?(o(),c(r,{key:0,type:"selection",selectable:N,width:"50",align:"center"})):w("",!0),t.options.showIndex?(o(),c(r,{key:1,label:"序号",type:"index",width:"60",align:"center"})):w("",!0),(o(!0),s(_,null,I(t.columns,(l,V)=>(o(),s(_,null,[l.scopedSlots?(o(),c(r,{key:V,prop:l.prop,label:l.label,align:l.align||"left",width:l.width},{default:x(H=>[$(a.$slots,l.scopedSlots,{index:H.$index,row:H.row})]),_:2},1032,["prop","label","align","width"])):(o(),c(r,{key:V,prop:l.prop,label:l.label,align:l.align||"left",width:l.width,fixed:l.fixed},null,8,["prop","label","align","width","fixed"]))],64))),256))]),_:3},8,["data","height","stripe","border"]),t.showPagination?(o(),s("div",L,[t.dataSource.totalCount?(o(),c(B,{key:0,background:"",total:t.dataSource.totalCount,"page-sizes":[15,30,50,100],"page-size":t.dataSource.pageSize,"current-page":t.dataSource.pageNo,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:C,onCurrentChange:i,style:{"text-align":"right"}},null,8,["total","page-size","current-page"])):w("",!0)])):w("",!0)])}}};export{K as V,U as _};
