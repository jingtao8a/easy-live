import{_ as L,m as V}from"./index-D9sq5B9z.js";import{_ as P}from"./VideoList-XrBI8tqo.js";import{u as z}from"./navActionStore-yUvuvR1j.js";import{a as B}from"./vue-router-hI8gbx6m.js";import{b as n,j as H,S as M,c as r,a as o,D as W,P as _,H as v,O as f,a4 as C,K as D,i as E,ag as h,o as a,G as w,u as j,L as q,M as G,C as K}from"./@vue-JlwsckWB.js";import"./pinia-91x-qzso.js";import"./vue-demi-Dq6ymT-8.js";import"./element-plus-BCXmXNOW.js";import"./lodash-es-DpRhkxuT.js";import"./@vueuse-DS8A98-V.js";import"./@element-plus-Dbr4-WMN.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Cvt7qOjS.js";import"./artplayer-DYEsUqgO.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";import"./axios-upsvKRUO.js";import"./vue-cookies-DmNBPvI0.js";import"./@fingerprintjs-BlNouByb.js";import"./tslib-BLN2B0TR.js";import"./vue-cropper-BAfMpYow.js";import"./mitt-DJ65BbbF.js";import"./moment-C5S46NFB.js";const O={class:"roll-image"},T=["src"],U={key:0,class:"carousel-bottom"},J={class:"name-op"},Q={class:"dtos"},X=["onClick"],Y={class:"video-list"},Z={__name:"Index",setup(ee){const l=z(),{proxy:i}=E();B();const R=n(),u=n(),g=()=>{let e=(document.documentElement.clientWidth-i.bodyPadding*2-8)*.4218;e<400&&(e=400),u.value=e};H(()=>{V.on("windowResize",()=>{g()}),g(),l.setShowHeader(!0),l.setFixedHeader(!0),l.setFixedCategory(!0),l.setShowCategory(!0),l.setForceFixedHeader(!1)}),M(()=>{V.off("windowResize")});const m=i.carouselMaxCount,t=n([]),x=n([]);(async()=>{let e=await i.Request({url:i.Api.loadRecommendVideo});if(!e)return;const d=e.data;d.length>m?(t.value=d.slice(0,m),x.value=d.slice(m,m+6)):t.value=d})();const c=n(0),I=e=>{c.value=e},p=n(),b=()=>{p.value.prev()},N=()=>{p.value.next()},S=e=>{p.value.setActiveItem(e-1+"")};return(e,d)=>{const k=h("router-link"),$=h("el-carousel-item"),A=h("el-carousel"),F=h("VideoItem");return a(),r(f,null,[o("div",{class:"commend-panel",ref_key:"commendPanelRef",ref:R},[o("div",{class:"carousel-panel",style:W({width:u.value+"px",height:u.value*.6+"px"})},[_(A,{height:u.value*.6+"px","indicator-position":"none",arrow:"never",ref_key:"elCarouselRef",ref:p,onChange:I},{default:v(()=>[(a(!0),r(f,null,C(t.value,(s,y)=>(a(),w($,{key:s,name:y+""},{default:v(()=>[o("div",O,[_(k,{to:`/video/${t.value[c.value].videoId}`,target:"_blank"},{default:v(()=>[o("img",{src:`${j(i).Api.sourcePath}${s.videoCover}`},null,8,T)]),_:2},1032,["to"])])]),_:2},1032,["name"]))),128))]),_:1},8,["height"]),t.value.length>0?(a(),r("div",U,[o("div",J,[_(k,{class:"video-name",to:`/video/${t.value[c.value].videoId}`,target:"_blank"},{default:v(()=>[q(G(t.value[c.value].videoName),1)]),_:1},8,["to"]),o("div",{class:"change-btn"},[o("span",{class:"iconfont icon-right",onClick:b}),o("span",{class:"iconfont icon-left",onClick:N})])]),o("div",Q,[(a(!0),r(f,null,C(t.value.length,s=>(a(),r("div",{class:K(["dto-item",c.value==s-1?"active":""]),onClick:y=>S(s)},null,10,X))),256))])])):D("",!0)],4),o("div",Y,[(a(!0),r(f,null,C(x.value,s=>(a(),w(F,{data:s},null,8,["data"]))),256))])],512),_(P)],64)}}},Ne=L(Z,[["__scopeId","data-v-6718052b"]]);export{Ne as default};
