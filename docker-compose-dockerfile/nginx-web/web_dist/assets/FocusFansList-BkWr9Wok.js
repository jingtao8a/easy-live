import{a as x,u as S}from"./vue-router-hI8gbx6m.js";import{_ as A}from"./index-D9sq5B9z.js";import{b as D,e as B,c as y,a as s,M as d,u as _,P as f,H as i,ag as u,o as m,L as h,K as v,G as F,i as T,m as g}from"./@vue-JlwsckWB.js";import"./pinia-91x-qzso.js";import"./vue-demi-Dq6ymT-8.js";import"./element-plus-BCXmXNOW.js";import"./lodash-es-DpRhkxuT.js";import"./@vueuse-DS8A98-V.js";import"./@element-plus-Dbr4-WMN.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Cvt7qOjS.js";import"./artplayer-DYEsUqgO.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DVIT0l11.js";import"./axios-upsvKRUO.js";import"./vue-cookies-DmNBPvI0.js";import"./@fingerprintjs-BlNouByb.js";import"./tslib-BLN2B0TR.js";import"./vue-cropper-BAfMpYow.js";import"./mitt-DJ65BbbF.js";import"./moment-C5S46NFB.js";const H={class:"body-container"},R={class:"body-title"},V={class:"data-item"},$={class:"user-info"},z={class:"nick-name"},P={class:"introduction"},j={class:"op-btns"},q={key:0,class:"focus-eachother"},w={__name:"FocusFansList",setup(E){const{proxy:p}=T();x();const r=S(),a=D({}),c=async(e,t)=>{let l={pageNo:a.value.pageNo,pageSize:a.value.pageSize},n=await p.Request({url:r.name=="uhomeFocus"?p.Api.uHomeFocusList:p.Api.uHomeFansList,params:l});n&&(a.value=n.data)},C=g("cancelFocusUser"),I=e=>{C(e,()=>{c()})},L=g("focusUser"),N=e=>{L(e,()=>{c()})};return B(()=>r.name,(e,t)=>{console.log(e),(e=="uhomeFocus"||e=="uhomeFans")&&c()},{immediate:!0,deep:!0}),(e,t)=>{const l=u("Avatar"),n=u("router-link"),k=u("el-button"),U=u("DataList");return m(),y("div",H,[s("div",R,d(_(r).name=="uhomeFocus"?"我的关注":"我的粉丝"),1),f(U,{dataSource:a.value,onLoadData:c},{default:i(({data:o})=>[s("div",V,[f(l,{avatar:o.otherAvatar,userId:o.otherUserId},null,8,["avatar","userId"]),s("div",$,[s("div",z,[f(n,{to:`/user/${o.otherUserId}`,target:"_blank",class:"a-link"},{default:i(()=>[h(d(o.otherNickName),1)]),_:2},1032,["to"])]),s("div",P,d(o.otherPersonIntroduction||"这个人没有填简介啊~~~"),1)]),s("div",j,[o.focusType==1?(m(),y("div",q,"已互粉")):v("",!0),_(r).name=="uhomeFocus"||o.focusType==1?(m(),F(k,{key:1,link:"",type:"primary",onClick:b=>I(o.otherUserId)},{default:i(()=>t[0]||(t[0]=[h("取消关注")])),_:2},1032,["onClick"])):v("",!0),_(r).name=="uhomeFans"&&o.focusType==0?(m(),F(k,{key:2,type:"primary",onClick:b=>N(o.otherUserId)},{default:i(()=>t[1]||(t[1]=[h("关注")])),_:2},1032,["onClick"])):v("",!0)])])]),_:1},8,["dataSource"])])}}},fo=A(w,[["__scopeId","data-v-d9218d98"]]);export{fo as default};
