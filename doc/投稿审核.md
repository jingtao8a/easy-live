为了业务逻辑清晰，这里为投稿审核管理模块建立了四张数据库表<br>
1. video_info_post
2. video_info_file_post
3. video_info
4. video_info_file
> 其中1表和3表很相似，2表和4表很相似<br>
> 对于video_info*,vidoe_id是主键索引，同一个一个user_id可以对应多个video_id
> 对于video_info_file*,file_id是主键索引，upload_id是上传video使用的标识，同一个video_id可以对应多个file_id
## admin
### /videoInfo/loadVideoList
- 与/ucenter/loadVideoList类似，多了userInfo中的nick_name、avatar这两个查询字段
### /videoInfo/auditVideo
- 1. 审核视频，只能审核状态为待审核的videoInfoPost，否则抛出异常
  2. 修改videoInfoPost的status，并将该videoId下的所有videoInfoFilePost的updateType设置为'无更新'
  3. 如果审核不通过直接返回
  4. 审核通过，如果是第一次审核，给用户加硬币，将videoInfoPost更新到videoInfo表，将videoInfoFilePost更新到videoInfoFile表
  5. 从redis的DelQueue中取出该videoId对应的filePathList，进行文件删除操作

## web
### /ucenter/postVideo

- 如果请求参数videoId字段为null表示新增videoInfoPost，否则为修改videoInfoPost
- 1. 如果是新增videoInfoPost，创建videoId，将videoInfoPost设置为'转码中'，插入数据库<br>
  2. 创建所有videoInfoFiePostList的fileId，并且设置updateType为'有更新'，状态置为'转码中'<br>
  3. 将videoInfoFiePostList加入redis的TransferQueue<br>
- 1. 如果是修改videoInfoPost，当数据库中不存在videoId或者该videoInfoPost处于'转码中'或'待审核'，抛出异常<br>
  2. 将数据库中存在的videoInfoFilePost和现在上传的videoInfoFilePostList进行对比，计算出deleteVideoInfoFilePostList，<br>
  3. 同时将上传的videoInfoFilePostList中fileId为null的item过滤出来放入addVideoInfoFilePostList<br>
  4. 先判断addVideoInfoFilePostList是否不为空，如果是，将videoInfoPost状态设置为'转码中'<br>
  5. 如果不是，之后再判断是否更改了videoInfoPost的标题，封面，标签，简介 或者 file的名字，如果是，设置为'待审核'<br>
  6. 创建所有addVideoInfoFilePostList中的fileId，并且设置updateType为'有更新'，状态设置为'转码中'<br>
  7. 将deleteVideoInfoFilePostList从数据库中删除，提取出filePath列表，加入redis的DelQueue<br>
  8. 将addVideoInfoFilePostList加入redis的TransferQueue<br>

### /ucenter/loadVideoList
- 如果status=null，返回所有videoInfoPost
- 如果status=-1，返回状态为进行中的videoInfoPost(除了审核成功，审核失败)
- 其它，返回对应status的vieoInfoPost

### /ucenter/getVideoCountInfo
- 返回AuditPassCount、AuditFailCount、InProgress

